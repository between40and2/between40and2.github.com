<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>UIActivityViewController-iOS6</title>
</head>

<body>
<h1>UIActivityViewController-iOS6</h1>
<p>&nbsp;</p>
<h2>Classes and Protocols</h2>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityViewController_Class/index.html">UIActivityViewController</a></p>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivity_Class/index.html">UIActivity</a></p>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityItemSource_protocol/index.html#//apple_ref/doc/uid/TP40012213">UIActivityItemSource</a></p>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityItemProvider_Class/index.html#//apple_ref/doc/uid/TP40011975">UIActivityItemProvider</a></p>
<h2>Sample Code </h2>
<p><a href="https://developer.apple.com/library/ios/samplecode/sc2273/Introduction/Intro.html#//apple_ref/doc/uid/DTS40013842">AirDrop Examples</a></p>
<p>&nbsp;</p>
<p><a href="http://nshipster.com/uiactivityviewcontroller/">http://nshipster.com/uiactivityviewcontroller/</a></p>
<p>&nbsp;</p>
<h3><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityViewController_Class/index.html">UIActivityViewController</a></h3>
<p> init(activityItems activityItems: [AnyObject],<br />
applicationActivities applicationActivities: [AnyObject]?)</p>
<p>var completionWithItemsHandler: UIActivityViewControllerCompletionWithItemsHandler?</p>
<p>typealias UIActivityViewControllerCompletionWithItemsHandler = (String!, Bool, [AnyObject]!, NSError!) -&gt; Void</p>
<h3><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityItemSource_protocol/index.html#//apple_ref/doc/uid/TP40012213">UIActivityItemSource</a></h3>
<p>(iOS 6)</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><p>func activityViewControllerPlaceholderItem(_ activityViewController: UIActivityViewController) -&gt; AnyObject</p></td>
    <td>[NSData data];</td>
    <td>self.url</td>
    <td rowspan="2">6.0</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>func activityViewController(_ activityViewController: UIActivityViewController,<br />
itemForActivityType activityType: String) -&gt; AnyObject?</td>
    <td>[APLUtilities securelyArchiveRootObject:self];</td>
    <td>self.url</td>
  </tr>
</table>
<p>(7.0)</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><p>optional func activityViewController(_ activityViewController: UIActivityViewController,<br />
      subjectForActivityType activityType: String?) -&gt; String</p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td rowspan="3">7.0</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>optional func activityViewController(_ activityViewController: UIActivityViewController,<br />
      dataTypeIdentifierForActivityType activityType: String?) -&gt; String</td>
    <td>kCustomFileUTI</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>optional func activityViewController(_ activityViewController: UIActivityViewController,<br />
      thumbnailImageForActivityType activityType: String!,<br />
      suggestedSize size: CGSize) -&gt; UIImage!</td>
    <td>&nbsp;</td>
    <td>[UIImage imageWithImage:[UIImage imageNamed:kCustomURLImageName] scaledToFitToSize:size];</td>
  </tr>
</table>
<p>&nbsp;</p>
<p><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivityItemProvider_Class/index.html#//apple_ref/doc/uid/TP40011975">UIActivityItemProvider</a></p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><p>APLAsyncImageActivityItemProvider</p>
    <p>with APLAsyncImageActivityItemProviderDelegate</p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>init(placeholderItem placeholderItem: AnyObject)</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>func item() -&gt; AnyObject!</td>
    <td>item<br />
<br />
The item method runs on a secondary thread using an NSOperationQueue (UIActivityItemProvider subclasses NSOperation).<br />
The implementation of this method loads an image from the app's bundle and applies two filters to it.<br /></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>var placeholderItem: AnyObject! { get }</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>var activityType: String? { get }</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>Important experience: item() must return a solid object, not a shallow or wrapper. If you are about to return a UIImage, which is generated from CIImage, then you got nothing, because of the nature of CIImage. Solution: get solid CGImage from CIImage via CIContext, and then create UIImage from CGImage. 2015-03-36</p>
<p>Warning - UIActivityItemProvider   ignored (duplicate, executing or finished)</p>
<h3><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIActivity_Class/index.html">UIActivity</a></h3>
<p>&nbsp;</p>
<p>class func activityCategory() -&gt; UIActivityCategory</p>
<p>func activityType() -&gt; String?</p>
<p>func activityTitle() -&gt; String?</p>
<p>func activityImage() -&gt; UIImage?</p>
<p>func canPerformWithActivityItems(_ activityItems: [AnyObject]) -&gt; Bool</p>
<p>func prepareWithActivityItems(_ activityItems: [AnyObject])</p>
<p>func activityViewController() -&gt; UIViewController?</p>
<p>func performActivity()</p>
<p>func activityDidFinish(_ completed: Bool)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>let UIActivityTypePostToFacebook: NSString!<br />
  let UIActivityTypePostToTwitter: NSString!<br />
  let UIActivityTypePostToWeibo: NSString!<br />
  let UIActivityTypeMessage: NSString!<br />
  let UIActivityTypeMail: NSString!<br />
  let UIActivityTypePrint: NSString!<br />
  let UIActivityTypeCopyToPasteboard: NSString!<br />
  let UIActivityTypeAssignToContact: NSString!<br />
  let UIActivityTypeSaveToCameraRoll: NSString!<br />
  let UIActivityTypeAddToReadingList: NSString!<br />
  let UIActivityTypePostToFlickr: NSString!<br />
  let UIActivityTypePostToVimeo: NSString!<br />
  let UIActivityTypePostToTencentWeibo: NSString!<br />
let UIActivityTypeAirDrop: NSString!</p>
<p>enum UIActivityCategory : Int {<br />
case Action<br />
case Share<br />
}</p>
<p>&nbsp;</p>
</body>
</html>
