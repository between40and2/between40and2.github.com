<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>proc-write</title>
</head>

<body>
<h1>proc-write</h1>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Add a QuantitySample </h2>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>String (TypeIdentifier) =&gt; HKQuantityType</td>
    <td>let type = HKQuantityType.quantityTypeForIdentifier(HKQuantityTypeIdentifierDietaryCalcium)</td>
    <td><p>XHKType</p>
    <p>&nbsp;</p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>HKUnit + value =&gt; HKQuantity</td>
    <td>let q = HKQuantity(unit: HKUnit.gramUnit(), doubleValue: 0.02)</td>
    <td><p>XHKUnit</p>
    <p>class func massUnit_fromName(name: String) -&gt; HKUnit!</p>
    <p>class func energyUnit_fromName(name: String) -&gt; HKUnit! </p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>HKQuantityType + HKQuantity =&gt; HKQuantitySample</td>
    <td>let date = NSDate()<br />
let meta = [HKMetadataKeyFoodType: &quot;No&quot;]<br />
let sample = HKQuantitySample(type: type , quantity: q, startDate: date, endDate: date, metadata: meta)</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>HKQuantitySampel --&gt; HKHealthStore</td>
    <td><p>store.saveObject(sample, withCompletion: { (success: Bool, error: NSError!) -&gt; Void in<br />
      println(error)<br />
      // Error Domain=com.apple.healthkit Code=4 &quot;Not authorized&quot; UserInfo=0x15655e20 {NSLocalizedDescription=Not authorized}<br />
      })</p>
    <p></p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p><br />
  <br />
  <br />
</p>
<p><br />
</p>
<p>&nbsp;</p>
</body>
</html>
