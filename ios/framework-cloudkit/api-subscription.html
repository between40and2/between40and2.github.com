<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>api-subscription</title>
</head>

<body>
<h1>api-subscription</h1>
<p>&nbsp;</p>
<h2>Model</h2>
<h3><a href="https://developer.apple.com/library/ios/documentation/CloudKit/Reference/CKSubscription_class/index.html">CKSubscription</a></h3>
<p>Common</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Push Notification Data</td>
    <td>@NSCopying var notificationInfo: CKNotificationInfo!</td>
  </tr>
  <tr>
    <td>Metadata</td>
    <td><p>var subscriptionOptions: CKSubscriptionOptions { get }</p>
      <p>var subscriptionType: CKSubscriptionType { get } </p>
    <p>var subscriptionID: String! { get }</p></td>
  </tr>
</table>
<p>Diff between Query-based and Zone-based</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>Query-Based Subscription</td>
    <td>Zone-Based Subscription</td>
  </tr>
  <tr>
    <td rowspan="2">Init</td>
    <td><p>init!(recordType recordType: String!,<br />
predicate predicate: NSPredicate!,<br />
subscriptionID subscriptionID: String!,<br />
options subscriptionOptions: CKSubscriptionOptions)</p></td>
    <td> init!(zoneID zoneID: CKRecordZoneID!,<br />
      subscriptionID subscriptionID: String!,<br />
options subscriptionOptions: CKSubscriptionOptions)</td>
  </tr>
  <tr>
    <td>convenience init!(recordType recordType: String!,<br />
      predicate predicate: NSPredicate!,<br />
    options subscriptionOptions: CKSubscriptionOptions)</td>
    <td>convenience init!(zoneID zoneID: CKRecordZoneID!,<br />
    options subscriptionOptions: CKSubscriptionOptions)</td>
  </tr>
  <tr>
    <td>Subscription Search Parameters</td>
    <td><p>@NSCopying var predicate: NSPredicate! { get }</p>
    <p>var recordType: String! { get }</p></td>
    <td>@NSCopying var zoneID: CKRecordZoneID!</td>
  </tr>
</table>
<h3><a href="https://developer.apple.com/library/ios/documentation/CloudKit/Reference/CKNotificationInfo_class/index.html">CKNotificationInfo</a></h3>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Accessing the Notification Info</td>
    <td><p>var alertBody: String!</p>
    <p>var alertLocalizationKey: String!</p>
    <p>var alertLocalizationArgs: [AnyObject]!</p>
    <p>var alertActionLocalizationKey: String!</p>
    <p>var alertLaunchImage: String!</p>
    <p>var soundName: String!</p>
    <p>var shouldBadge: Bool</p>
    <p>var shouldSendContentAvailable: Bool</p></td>
  </tr>
  <tr>
    <td>Accessing the Record's Data</td>
    <td>var desiredKeys: [AnyObject]!</td>
  </tr>
</table>
<p>&nbsp;</p>
<h2>Mechanism</h2>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td><p>Convience. </p>
    <p><a href="https://developer.apple.com/library/ios/documentation/CloudKit/Reference/CKDatabase_class/index.html">CKDatabase</a></p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>func fetchAllSubscriptionsWithCompletionHandler(_ completionHandler: (([AnyObject]!,<br />
NSError!) -&gt; Void)!)</td>
    <td rowspan="2"><p><a href="https://developer.apple.com/library/ios/documentation/CloudKit/Reference/CKFetchSubscriptionsOperation_class/index.html#//apple_ref/occ/cl/CKFetchSubscriptionsOperation">CKFetchSubscriptionsOperation</a></p>
    <p>class func fetchAllSubscriptionsOperation() -&gt; Self!</p>
    <p>convenience init!(subscriptionIDs subscriptionIDs: [AnyObject]!)</p>
    <p>var subscriptionIDs: [AnyObject]!</p>
    <p>var fetchSubscriptionCompletionBlock: (([NSObject : AnyObject]!, NSError!) -&gt; Void)!</p></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><p>func fetchSubscriptionWithID(_ subscriptionID: String!,<br />
      completionHandler completionHandler: ((CKSubscription!,<br />
    NSError!) -&gt; Void)!)</p></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><p>func saveSubscription(_ subscription: CKSubscription!,<br />
      completionHandler completionHandler: ((CKSubscription!,<br />
    NSError!) -&gt; Void)!)</p></td>
    <td rowspan="2"><p><a href="https://developer.apple.com/library/ios/documentation/CloudKit/Reference/CKModifySubscriptionsOperation_class/index.html#//apple_ref/occ/cl/CKModifySubscriptionsOperation">CKModifySubscriptionsOperation</a></p>
      <p>init!(subscriptionsToSave subscriptionsToSave: [AnyObject]!,<br />
      subscriptionIDsToDelete subscriptionIDsToDelete: [AnyObject]!)</p>
      <p>var subscriptionsToSave: [AnyObject]!<br />
      var subscriptionIDsToDelete: [AnyObject]!</p>
    <p>var modifySubscriptionsCompletionBlock: (([AnyObject]!, [AnyObject]!, NSError!) -&gt; Void)!</p></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><p>func deleteSubscriptionWithID(_ subscriptionID: String!,<br />
      completionHandler completionHandler: ((String!,<br />
      NSError!) -&gt; Void)!)<br />
    </p></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
