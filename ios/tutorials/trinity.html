<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>trinity</title>
</head>

<body>
<h1>UI Trinity</h1>
<h2>UI Building的方法论：code一元论 vs IB二元论</h2>
<p>code一元论，就是只用programming的方式实现UI。 IB二元论，是用Interface Builder和programming结合的方式实现UI。</p>
<p>IB二元论存在着很多局限性，特别是对Storyboard的支持，比如，Storyboard里的元素没有完全公开（你找不到Segue），Visual Editor不好用。</p>
<p>当然IB对Auto Layout和Adapivitiy的支持还是可以的。</p>
<h2>什么是UI Trinity</h2>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>content</td>
    <td>action</td>
    <td>choices of UI/form</td>
  </tr>
  <tr>
    <td>edit</td>
    <td>form for inputs and selections for both attributes and relationships</td>
    <td>save, cancel</td>
    <td><ul>
      <li>UIAlertController</li>
      <li>UIVC edit-dedicated</li>
      <li>UIVC editable </li>
    </ul></td>
  </tr>
  <tr>
    <td>list</td>
    <td><ul>
      <li>collection/list/array driven</li>
      <li>CoreData NSFetchedResultsController driven</li>
    </ul></td>
    <td>edit, add, selectItem</td>
    <td><ul>
      <li>UITableViewController</li>
      <li>UICollecitonViewController</li>
    </ul></td>
  </tr>
  <tr>
    <td>item</td>
    <td><ul>
      <li>var object: AnyObject!</li>
      <li>display/read-only</li>
    </ul></td>
    <td>back(to list), actions</td>
    <td><ul>
      <li>tableView based</li>
      <li>Auto Layout based </li>
    </ul></td>
  </tr>
</table>
<h2>Flows between elements</h2>
<table width="100%" border="1">
  <tr>
    <td>from</td>
    <td>to</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>list, add item button</td>
    <td>edit -new</td>
    <td>present</td>
  </tr>
  <tr>
    <td>list, cell selection</td>
    <td>item</td>
    <td>showDetail , was push</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<h2>Example Code in W4</h2>
<p>list</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><p>XUIVC_NSFetchedResultsController__tableView__0</p>
    <p>: UITableViewController , NSFetchedResultsControllerDelegate</p></td>
    <td><ul>
      <li>frc</li>
      <li>Table view data source</li>
      <li>NSFetchedResultsControllerDelegate</li>
    </ul></td>
    <td>read-only</td>
  </tr>
  <tr>
    <td>XUIVC_NSFetchedResultsController__tableView__1</td>
    <td><ul>
      <li>didSelectRowAtIndexPath</li>
      <li>canEditRowAtIndexPath, commitEditingStyle</li>
    </ul></td>
    <td>write, interaction</td>
  </tr>
  <tr>
    <td>W4UIVC_Event_list__tableView</td>
    <td>configureCell</td>
    <td>custom</td>
  </tr>
</table>
<p>item</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>W4UIVC_Event__storyboard</td>
    <td><ul>
      <li> @IBOutlet var label_what : UILabel!<br />
@IBOutlet var label_datetime : UILabel!<br />
@IBOutlet var label_where : UILabel!</li>
      <li>var object: AnyObject!</li>
    </ul></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>W4UIVC_Event.storyboard</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>uistory</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><p>XUIStory_UISVC_ListItem</p>
    <p>NSObject, UISplitViewControllerDelegate</p></td>
    <td><ul>
      <li>var vc_list, vc_item</li>
      <li>var splitViewController {get}</li>
      <li>UISplitViewControllerDelegate</li>
      <li>action_add</li>
    </ul></td>
    <td>UISVC basic setup</td>
  </tr>
  <tr>
    <td>XUIStory_UISVC_ListItem__NSFetchedResultsController</td>
    <td><ul>
      <li> var frc</li>
      <li>class func frcWithEntityName</li>
    </ul></td>
    <td>frc sepecific</td>
  </tr>
  <tr>
    <td>W4UIStory_UISVC_ListItem__Event</td>
    <td><ul>
      <li>var managedObjectContext</li>
      <li> var fetchedResultsController</li>
    </ul></td>
    <td>business custom</td>
  </tr>
</table>
<h2>Container controller</h2>
<ul>
  <li>UISplitViewController</li>
  <li>UINavigationController</li>
</ul>
<h2>Tips</h2>
<h3>Touch &quot;Master&quot; VC - by subclassing </h3>
<p>Don't change it internally, especially when you don't master it. </p>
<p>Do things externally: such as subclassing and minimizing the change on existing files. </p>
<h3>Edit 'Detail' - in Storyboard</h3>
<p>See <a href="../../../../../快盘/iOS8/ios-dev/interface-builder">interface-builder</a></p>
<p>Creating a scene in IB first, or Creating a VC in code first? it is up to you. They are loosely coupling anyway. </p>
<p></p>
<p>&nbsp;</p>
</body>
</html>
