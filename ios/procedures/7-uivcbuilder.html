<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>7-uivcbuilder</title>
</head>

<body>
<h1>7-uivcbuilder</h1>
<p>&nbsp;</p>
<h2>Why vcb?</h2>
<p>&nbsp;</p>
<p>Clients: could be model-specific VC, or UIStory, depending on deployment style.</p>
<p>&nbsp;</p>
<h2>Classes</h2>
<p>&nbsp;</p>
<ul>
  <li>NSObject
    <ul>
      <li>JXUIVCBuilder_base
        <ul>
          <li>JXUIVCBuilder_className</li>
          <li>JXUIVCBuilder_nib</li>
          <li>JXUIVCBuilder_DSD ?
            <ul>
              <li>JXUIVCBuilder_TVDSD</li>
              <li>JXUIVCBuilder_CVDSD</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>client to use</td>
    <td>client to config</td>
    <td>subclassing</td>
  </tr>
  <tr>
    <td>JXUIVCBuilder_base</td>
    <td><p>@property (nonatomic, readonly) UIView * view;</p>
    <p>- (void) mountViewOn: (UIView*) superview;</p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUIVCBuilder_TVDSD</td>
    <td><p>@property (nonatomic, strong) NSString * tvdsdClassName;</p>
      <p>@property (nonatomic, strong) JXUITVDSD_base * tvdsd;</p>
      <p>&nbsp;</p>
    <p>&nbsp;</p></td>
    <td>&nbsp;</td>
    <td>+ (NSString*) dsdClassName;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>JXUIVC__vcb has-a JXUIVCBuilder_base</p>
<p>JXUIVCBuilder_TVDSD has-a TVDSD</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>-----------------------</p>
<h1>JXUIVC__vcb</h1>
<p>&nbsp;</p>
<h2>classes</h2>
<ul>
  <li>UIViewController
    <ul>
      <li>JXUIVC__vcb
        <ul>
          <li>JXUIVC__vcb_tvdsd
            <ul>
              <li>JXUIVC_NSArray__vcb_tvdsd
                <ul>
                  <li>JXUIVC_ALAssetsLibrary</li>
                </ul>
              </li>
              <li>JXUIVC_id__vcb_tvdsd_lvsections
                <ul>
                  <li>JXUIVC_ALAsset</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUIVC__vcb</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUIVC__vcb_tvdsd</td>
    <td><p>@property (nonatomic, strong) id object;</p>
    <p>@property (nonatomic, strong) JXUIVCBuilder_TVDSD * vcb_tvdsd;</p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUIVC_NSArray__vcb_tvdsd</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUIVC_id__vcb_tvdsd_lvsections</td>
    <td>@property (nonatomic, readonly) JXUITVDSD_LVSections * tvdsd;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Examples</h2>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>JXUIVC_ALAssetsLibrary</td>
    <td>JXUIVC_ALAsset</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><p>#import &quot;ALAssetsLibrary+JXFetch.h&quot;<br />
      #import &quot;ALAssetsGroup+JXTypeName.h&quot;</p>
    <p>#import &quot;NSString+JXObjectFormating.h&quot;</p></td>
    <td><p>#import &quot;JXUIModel_LVSection.h&quot;</p>
    <p>#import &quot;ALAsset+Constants.h&quot;</p></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>{<br />
// !!! this must be retained,<br />
// otherwise the # of group's contents will be 0<br />
ALAssetsLibrary * al;<br />
<br />
}</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><p>- (id) initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil </p>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p>inside if-self</p>
    <p>&nbsp;</p></td>
    <td>[self fetchData_storeInIvar];<br />
      <br />
JXBlock_ObjectObject block_decorateCellForItem =<br />
^(id _cell, id item) {<br />
ALAssetsGroup * group = item;<br />
UITableViewCell * cell = _cell;<br />
<br />
<br />
NSArray * props =<br />
@[ @[@&quot;valueForProperty:&quot;, ALAssetsGroupPropertyName],<br />
@&quot;typeName&quot;, @&quot;numberOfAssets&quot;];<br />
NSArray * temp =<br />
@[@&quot;\%@&quot;, @&quot;[\%@]&quot;, @&quot;(\%@)&quot;];<br />
NSString * txt = [NSString stringWithObject: group properties: props template: temp ignoresIfNil: YES spacesBetweenProperties: YES];<br />
<br />
<br />
cell.textLabel.text =   txt;<br />
cell.imageView.image = [UIImage imageWithCGImage:[group posterImage]];<br />
<br />
cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;<br />
<br />
<br />
};<br />
<br />
[self.vcb_tvdsd.tvdsd performSelector: @selector(setBlock_decorateCellForItem:) withObject: block_decorateCellForItem];</td>
    <td>JXUIModel_LVSection_ObjectAttributes * lvs_first =<br />
[[JXUIModel_LVSection_ObjectAttributes alloc] init];<br />
lvs_first.titleForHeader = @&quot;Attrs...s. &quot;;<br />
lvs_first.attributes =[ALAsset propertyKeys];<br />
lvs_first.accessByKeyMethodName = @&quot;valueForProperty:&quot;;<br />
;<br />
lvs_first.block_itemSelection =<br />
^(id obj) {<br />
<br />
NSLog(@&quot;selection: %@&quot;, obj);<br />
};<br />
<br />
<br />
////////////////////////////////////<br />
self.tvdsd.sections = @[lvs_first];</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>- (void) setObject:(id)object</td>
    <td>&nbsp;</td>
    <td>[super setObject: object];<br />
      <br />
[self.tvdsd.sections enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {<br />
JXUIModel_LVSection * lvs = obj;<br />
<br />
lvs.object = object;<br />
<br />
}];<br />
<br />
<br />
self.title = [NSString stringWithFormat: @&quot;%@&quot;, object];</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>Internals</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
