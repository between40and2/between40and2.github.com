<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>iOS-Procedure-UIView</title>
</head>

<body>
<h1>iOS-Procedure-UIView
</h1>
<p>&nbsp;</p>
<h2>Questions of UIView</h2>
<table width="100%" border="1">
  <tr>
    <th scope="col">&nbsp;</th>
    <th scope="col">&nbsp;</th>
    <th scope="col">&nbsp;</th>
    <th scope="col">&nbsp;</th>
    <th scope="col">&nbsp;</th>
  </tr>
  <tr>
    <td>model</td>
    <td>@property id Object</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>function</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>UI</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>interaction</td>
    <td>delegate</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>关于 Model</h2>
<p>UI Components (UIStory, UIVC, UIView) should be awared to handle both with-data and without-data situations. When without-data, UI components should be designed, like such as waiting, or loading.</p>
<p>UIVC should be awared of both data-before-view and view-before-data situation. </p>
<p>&nbsp;</p>
<h2>有两种模式去更新数据：Wholesales vs retail</h2>
<p>&nbsp;</p>
<h3>[- setObject: (id) object] 或 [- set&lt;Model&gt;: &lt;ModelType&gt; &lt;modelName&gt;]</h3>
<p>3、重载-setObject:(id)model方法来修改界面数据显示，不能在View的客户里给View的subview赋值修改。</p>
<p>on-demand。model-set-once ,model-set-multitime,modelChangeNotification(model局部变化)，model发生变化，只修改数据，调用-setObject:(id)model。</p>
<p>alloc实例变量只能在-init和-setObject:(id)model方法中，只在某个函数中使用的局部变量不必这样。</p>
<p>-setObject:(id)model函数中，不要把当前的model和前一个model进行比较，因为这是一种粗放式的比较方式，不是一种集约式的比较。当model的值为nil时，为错误数据。</p>
<h3>[- resetObject] 或 [- reset&lt;Model&gt;]</h3>
<p>-resetObject函数，数据为nil，不是错误数据。</p>
<p>如果有关于数据的监听，应该在这里解除。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>UI - View Hierarchy</h2>
<ul>
  <li>只允许再-initWithFrame和-initWithCoder中或在其中直接调用的函数方法中调用-addSubview方法</li>
  <li>用hidden来控制View的显示和隐藏，而不是通过<a href="https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/removeFromSuperview">[- removeFromSuperview] </a>和 - addSubview。</li>
</ul>
<p>&nbsp;</p>
<h2>UI - Layout</h2>
<p>关于Layout的代码应该集中在 [- layoutSubviews] 中</p>
<p>如果layout比较复杂，并且和drawing公用数据，那么可考虑用独立的class来实现。</p>
<p>&nbsp;</p>
<p>应该尽量使用autosizing，或constraint布局技术</p>
<p>把UI Designer给的固定尺寸的布局用autoresizing或constraint的技术来实现</p>
<p>&nbsp;</p>
<h2>Overall - 三小美学</h2>
<p>层次越少越好；每个节点的下属节点的个数越少越好；每个节点越小越好。</p>
<p>&nbsp;</p>
<p>越下层的越重（干的活越多），越下层的越轻。</p>
<p>&nbsp;</p>
</body>
</html>
