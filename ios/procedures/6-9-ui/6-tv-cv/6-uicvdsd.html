<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>6-uicvdsd</title>
</head>

<body>
<h1>6-uicvdsd</h1>
<p>&nbsp;</p>
<ul>
  <li>NSObject
    <ul>
      <li>JXUICVPartClassesByReuseId
        <ul>
          <li>JXUICVDSD_base
            <ul>
              <li>JXUICVDSD_NSArray
                <ul>
                  <li>JXUICVDSD_ALAsset_list</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Classes</h2>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUICVPartClassesByReuseId</td>
    <td><p>@property (nonatomic, strong) NSDictionary * classesByCellReuseId;</p>
      <p>@property (nonatomic, strong) NSDictionary * classesBySuppViewKindAndReuseId;</p>
      <p>- (NSString*) cellReuseIdForItemAtIndexPath: (NSIndexPath*) indexPath;<br />
      </p>
      <p>- (NSString*) suppViewReuseIdForSection: (NSInteger) section kind: (NSString*) kind;</p>
    <p>- (void) registerReuseForCollectionView: (UICollectionView*) collectionView;</p></td>
    <td>&nbsp;</td>
    <td><p>precedure on routing to seek value</p>
      <ul>
        <li>instance-level</li>
        <li>system-level</li>
        <li>default on top class - e.g. this class </li>
      </ul>
    <p>&nbsp;</p></td>
  </tr>
  <tr>
    <td><p>JXUICVDSD_base</p>
    <p>&lt;UICollectionViewDataSource, UICollectionViewDelegate&gt;</p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUICVDSD_NSArray</td>
    <td><p>@property (nonatomic, strong) id object; <br />
    </p>
      <p>&nbsp;</p>
      <p>@property (nonatomic, readonly) JXModel_NSArray_GroupingSortingFiltering * model;<br />
      </p>
      <p>@property (nonatomic, strong) JXBlock_Object block_itemSelection;<br />
    @property (nonatomic, strong) JXBlock_ObjectIndexpath block_itemIndexpathSelection;</p></td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>JXUICVDSD_ALAsset_list</td>
    <td>&nbsp;</td>
    <td><p>- (id) init {<br />
      self = [super init];<br />
      if (self) {<br />
  <br />
      self.classesByCellReuseId =<br />
      @{<br />
      @&quot;Cell--&quot; : @&quot;JXALCVCell_ALAsset&quot;<br />
      };<br />
  <br />
      self.classesBySuppViewKindAndReuseId =<br />
      @{<br />
  <br />
      @[@&quot;--&quot;, UICollectionElementKindSectionHeader]: @&quot;JXALUICVHeaderView_id&quot;<br />
  <br />
      };<br />
      }<br />
      return self;<br />
      }</p>
      <p>- (NSString*) cellReuseIdForItemAtIndexPath:(NSIndexPath *)indexPath {<br />
        return  @&quot;Cell--&quot;;<br />
        }<br />
      </p>
      <p>- (NSString*) suppViewReuseIdForSection:(NSInteger)section kind:(NSString *)kind {<br />
        <br />
        return @&quot;--&quot;;<br />
  <br />
    }</p></td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Before and Now</h2>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>in VC viewDidLoad</td>
    <td>in VC viewDidLoad</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>[self.collectionView registerClass: NSClassFromString(@&quot;JXALCVCell_ALAsset&quot;)<br />
forCellWithReuseIdentifier: @&quot;--&quot;];<br />
<br />
[self.collectionView registerClass: NSClassFromString(@&quot;JXALUICVHeaderView_id&quot;)<br />
forSupplementaryViewOfKind: UICollectionElementKindSectionHeader<br />
withReuseIdentifier: @&quot;--&quot;];<br /></td>
    <td>[_cvdsd registerReuseForCollectionView: self.collectionView];<br />
self.collectionView.dataSource = _cvdsd;<br />
self.collectionView.delegate = _cvdsd;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><p></p>
      <p>- (NSInteger) numberOfSectionsInCollectionView:(UICollectionView *)collectionView {<br />
        <br />
        return [_model numberOfSections];</p>
      <p>}<br />
      </p>
      <p>- (NSInteger) collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {<br />
        <br />
        return [_model numberOfItemsInSection: section]<br />
        ;<br />
      </p>
      <p>}<br />
      </p>
      <p>&nbsp;</p>
      <p>- (UICollectionViewCell*) collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {<br />
        <br />
        UICollectionViewCell * cell = [self.collectionView dequeueReusableCellWithReuseIdentifier: @&quot;--&quot; forIndexPath: indexPath];<br />
  <br />
        ALAsset * asset = [_model itemAtIndexPath:indexPath];<br />
  <br />
        if ([cell respondsToSelector: @selector(setObject:)]) {<br />
        [cell performSelector: @selector(setObject:) withObject: asset];<br />
        }</p>
      <p> return cell;<br />
        }<br />
      </p>
      <p>- (UICollectionReusableView*) collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath {<br />
        <br />
        if (_model.enablesGrouping) { // _model.enablesGrouping<br />
        JXNSGroup * g = _model.groups[indexPath.section];<br />
  <br />
        JXALUICVHeaderView_id * header = [self.collectionView dequeueReusableSupplementaryViewOfKind: UICollectionElementKindSectionHeader withReuseIdentifier: @&quot;--&quot; forIndexPath: indexPath];<br />
  <br />
        header.textLabel.text = [NSString stringWithFormat: @&quot;%@&quot;, g.object];<br />
  <br />
        return header;<br />
        }else {<br />
        // change the height of header... <br />
        //        self.collectionView.collectionViewLayout<br />
        return nil;<br />
        }<br />
  <br />
    }</p></td>
    <td>N/A</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>
