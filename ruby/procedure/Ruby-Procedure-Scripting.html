<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Ruby-Procedure-Scripting</title>
</head>

<body>
<h1>Ruby-Procedure-Scripting</h1>
<p>&nbsp;</p>
<h2>concepts:</h2>
<p>1. thin scripts. Move the logic into lib, rather than wrotten in scripts themselves.</p>
<p>2. supports both infile/outfile and STDIN/STDOUT</p>
<p>&nbsp;</p>
<h2>Coding</h2>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>#!/usr/bin/env ruby<br />
# encoding: utf-8</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><a href="http://ruby-doc.org/stdlib-1.9.3/libdoc/optparse/rdoc/OptionParser.html">OptionParser</a> in optparse (My ref on <a href="../ref/stdlib/optparse.html">optparse</a>)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>Example : Excel-CSV-JSON-ZIP</h2>
<p>&nbsp;</p>
<h3>to-csvdir</h3>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>script</td>
    <td>lib: jx/file/xls_csv</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>to-json</h3>
<p>&nbsp;</p>
<table width="100%" border="1">
  <tr>
    <td>&nbsp;</td>
    <td>script</td>
    <td>lib: jx/file/csv_json</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td><p>path_to_csv</p>
    <p>path_to_json</p></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>to-zip</h3>
<p>zip. No need to make a ruby script. command-line will do. </p>
<p>find aaa -print | zip xxx.zip -@</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
